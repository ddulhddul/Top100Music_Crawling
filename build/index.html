<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><link rel="manifest" href="/manifest.json"><link rel="shortcut icon" href="/favicon.ico"><script src="/jquery-3.2.1.min.js"></script><title>Music Top 100 Youtube</title><link href="/static/css/main.8b543fb2.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><script type="text/javascript">String.prototype.padStart||(String.prototype.padStart=function(t,r){return t>>=0,r=String(void 0!==r?r:" "),this.length>t?String(this):((t-=this.length)>r.length&&(r+=r.repeat(t/r.length)),r.slice(0,t)+String(this))}),Date.prototype.date_str||(Date.prototype.date_str=function(){return this.getFullYear()+"-"+String(this.getMonth()+1).padStart(2,"0")+"-"+String(this.getDate()).padStart(2,"0")})</script><div id="messageSidebar" data-open="false" data-last-seq="0"><div class="messageSidebar"><form id="messageForm" onsubmit="return!1"><div class="row"><div class="col-xs-4"><input name="writer" placeholder="Anonymous" class="form-control input-sm"/></div><div class="col-xs-8"><div class="input-group"><input name="content" onkeydown="13===event.which&&sendMessage()" class="form-control input-sm"/><span class="input-group-btn"><button type="button" onclick="sendMessage()" class="btn btn-default btn-sm">Send</button></span></div></div></div></form><ul id="messageList"></ul><button id="moreBtn" style="display:none;margin:6px" onclick="requestMoreMessage()" class="btn btn-default">More</button></div><div onclick="toggleNav()" class="messageSidebarCurtain"></div><script src="/socket.io.min.js"></script><script>var socket,showSeq=!0,messageSidebarStyle={show:{width:"80%","max-width":"640px"},hide:{width:"0"}},moreBtnStyle={show:{display:"inline-block"},hide:{display:"none"}};function toggleNav(){var e=Boolean($("#messageSidebar").data("open"));$("#messageSidebar").data("open",!e).find(".messageSidebar").css(e?messageSidebarStyle.hide:messageSidebarStyle.show).end().find(".messageSidebarCurtain").css(e?{width:"0"}:{width:"100%"})}function initConnection(){(socket=io(document.URL.replace(/[0-9\:\/]+$/,"")+":3001")).on("fetchMessage",_renderResult),socket.on("newMessage",_renderNewMessage)}function sendMessage(e){var s=$("#messageForm").find("input[name=writer]").val().trim()||"Anonymous",t=$("#messageForm").find("input[name=content]").val().trim();t.length<=0||($("#messageForm").find("input[name=content]").val(""),socket.emit("sendMessage",{writer:s,content:t}))}function requestMoreMessage(){var e=$("#messageSidebar").data("last-seq");socket.emit("requestMessage",e)}function _renderResult(e){var s=e.messageList.length,t=0<s?e.messageList[s-1].seq:-1;$("#messageSidebar").data("last-seq",t),e.messageList.forEach(function(e){$("#messageList").append(_generateMessageRow(e))});var a=$("#messageList").find("li.message").length;$("#moreBtn").css(a<e.totalCount?moreBtnStyle.show:moreBtnStyle.hide)}function _renderNewMessage(e){$("#messageList").prepend(_generateMessageRow(e))}function _generateMessageRow(e){var s=showSeq?"["+e.seq+"] ":"";return $("<li/>").addClass("message").data("seq",e.seq).append($("<h6/>").text(s+e.writer+" ").append($("<small/>").text(e.formattedDate))).append($("<small/>").addClass("content").text(e.content))}$(function(){$("body").find("#messageBtn").on("click",toggleNav),initConnection()})</script></div><script type="text/javascript" src="/static/js/main.1423c763.js"></script></body></html>